\section{XXX~关键数据结构源码}

本附录列出~RMP~关键数据结构的代码，以便读者理解前文提及的数据结构。

\subsection{connector}

connector.h~文件定义了~|connector|~结构。

\lstset{numbers=left, numberstyle=\tiny, stepnumber=1, numbersep=5pt,
	texcl=true, escapechar={@}}
\begin{sourcelist}\begin{lstlisting}
/*
 *
@ * connector.h @
@ * @
@ * ZhangSan, Mar. 20, 200X @
@ * @
@ * 连接抽象层是一个面向内核提供抽象连接的机制，每种类型的连接通过提供 @
@ * 一组~ops~和一个连接标识向核心应用提供透明的连接. @
 */

#ifndef CONNECTOR_H
#define CONNECTOR_H

#include "common/config.h"

#ifdef __KERNEL__
#include <linux/module.h>
#include <linux/byteorder/generic.h>
#include <asm/msr.h>
#endif

#define CONNSTRING_MAX 32
#define CONN_TYPE_SOCKET 1
#define CONN_TYPE_NOEXIST 10

@/* 消息标识 */@

\end{lstlisting}\end{sourcelist}

